import{j as n}from"./jsx-runtime-u17CrQMm.js";import{r as v}from"./iframe-QywSF6W6.js";import{c as m}from"./cn-BQHNewu7.js";const y=({length:s=6,value:l,onChange:i,onComplete:p,disabled:b=!1,variant:h="outlined",size:T="md",className:w,label:d,error:o,helperText:f})=>{const r=v.useRef([]);v.useEffect(()=>{r.current=r.current.slice(0,s)},[s]);const j=(e,a)=>{const t=a.target.value,u=l.split("");if(!t){u[e]="",i(u.join(""));return}const g=t.slice(-1);u[e]=g;const c=u.join("").slice(0,s);i(c),g&&e<s-1&&r.current[e+1]?.focus(),c.length===s&&p?.(c)},q=(e,a)=>{if(a.key==="Backspace"){if(!l[e]&&e>0){const t=l.split("");t[e-1]="",i(t.join("")),r.current[e-1]?.focus()}}else a.key==="ArrowLeft"&&e>0?r.current[e-1]?.focus():a.key==="ArrowRight"&&e<s-1&&r.current[e+1]?.focus()},x=e=>{e.preventDefault();const a=e.clipboardData.getData("Text").slice(0,s);if(!/^\d+$/.test(a))return;i(a);const t=Math.min(a.length,s-1);r.current[t]?.focus(),a.length===s&&p?.(a)};return n.jsxs("div",{className:m("mango-otp-root",w),children:[d&&n.jsx("label",{className:"mango-otp-label",children:d}),n.jsx("div",{className:m("mango-otp-container",`mango-otp-size-${T}`),children:Array.from({length:s}).map((e,a)=>n.jsx("input",{ref:t=>{r.current[a]=t},type:"text",inputMode:"numeric",autoComplete:"one-time-code",maxLength:1,value:l[a]||"",onChange:t=>j(a,t),onKeyDown:t=>q(a,t),onPaste:x,disabled:b,className:m("mango-otp-box",`mango-otp-variant-${h}`,o&&"has-error")},a))}),o&&n.jsx("p",{className:"mango-otp-error",children:o}),!o&&f&&n.jsx("p",{className:"mango-otp-helper",children:f})]})};y.displayName="OTPInput";y.__docgenInfo={description:"",methods:[],displayName:"OTPInput",props:{length:{required:!1,tsType:{name:"number"},description:"Number of boxes",defaultValue:{value:"6",computed:!1}},value:{required:!0,tsType:{name:"string"},description:"Current value string"},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"Callback when value changes"},onComplete:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"Callback when all boxes are filled"},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the boxes are disabled",defaultValue:{value:"false",computed:!1}},variant:{required:!1,tsType:{name:"union",raw:"'outlined' | 'filled' | 'underlined'",elements:[{name:"literal",value:"'outlined'"},{name:"literal",value:"'filled'"},{name:"literal",value:"'underlined'"}]},description:"Visual variant",defaultValue:{value:"'outlined'",computed:!1}},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:"Size of the boxes",defaultValue:{value:"'md'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"Custom class name"},label:{required:!1,tsType:{name:"string"},description:"Label above the OTP group"},error:{required:!1,tsType:{name:"string"},description:"Error message below"},helperText:{required:!1,tsType:{name:"string"},description:"Helper text"}}};export{y as O};
